# Knowledtree

## About this solution

This is a layered startup solution based on [Domain Driven Design (DDD)](https://abp.io/docs/latest/framework/architecture/domain-driven-design) practises. All the fundamental ABP modules are already installed. 

### Pre-requirements

* [.NET 9.0+ SDK](https://dotnet.microsoft.com/download/dotnet)
* [Node v20.11+](https://nodejs.org/en)

### Configurations

The solution comes with a default configuration that works out of the box. However, you may consider to change the following configuration before running your solution:

* Check the `ConnectionStrings` in `appsettings.json` files under the `Knowledtree.Web` and `Knowledtree.DbMigrator` projects and change it if you need.

### Before running the application

#### Generating a Signing Certificate

In the production environment, you need to use a production signing certificate. ABP Framework sets up signing and encryption certificates in your application and expects an `openiddict.pfx` file in your application.

This certificate is already generated by ABP CLI, so most of the time you don't need to generate it yourself. However, if you need to generate a certificate, you can use the following command:

```bash
dotnet dev-certs https -v -ep openiddict.pfx -p 00000000-0000-0000-0000-000000000000
```

> `00000000-0000-0000-0000-000000000000` is the password of the certificate, you can change it to any password you want.

It is recommended to use **two** RSA certificates, distinct from the certificate(s) used for HTTPS: one for encryption, one for signing.

For more information, please refer to: https://documentation.openiddict.com/configuration/encryption-and-signing-credentials.html#registering-a-certificate-recommended-for-production-ready-scenarios

> Also, see the [Configuring OpenIddict](https://abp.io/docs/latest/deployment/configuring-openiddict#production-environment) documentation for more information.

#### Install Client-Side Libraries

Run the following command in the directory of your final application:

```bash
abp install-libs
```

> This command installs all NPM packages for MVC/Razor Pages and Blazor Server UIs and this command is already run by the ABP CLI, so most of the time you don't need to run this command manually.

#### Create the Database

Run `Knowledtree.DbMigrator` to create the initial database. This should be done in the first run. It is also needed if a new database migration is added to the solution later.

### Solution structure

This is a layered monolith application that consists of the following applications:

* `Knowledtree.DbMigrator`: A console application which applies the migrations and also seeds the initial data. It is useful on development as well as on production environment.
* `Knowledtree.Web`: ASP.NET Core MVC / Razor Pages application that is the essential web application of the solution.

### Deploying the application

Deploying an ABP application is not different than deploying any .NET or ASP.NET Core application. However, there are some topics that you should care about when you are deploying your applications. You can check ABP's [Deployment documentation](https://abp.io/docs/latest/deployment) before deploying your application.

### Additional resources

You can see the following resources to learn more about your solution and the ABP Framework:

* [Web Application Development Tutorial](https://abp.io/docs/latest/tutorials/book-store/part-01?UI=Blazor&DB=EF)
* [Application Startup Template Structure](https://abp.io/docs/latest/solution-templates/layered-web-application)
* [LeptonX Lite MVC UI](https://abp.io/docs/latest/ui-themes/lepton-x-lite/asp-net-core)


---
# Phiên bản Tiếng Việt

## Giới thiệu dự án
Dự án **Knowledtree** là một hệ thống quản lý nội dung đa nền tảng, được xây dựng dựa trên kiến trúc Domain Driven Design (DDD) của ABP Framework.

### Bối cảnh & Mục tiêu
Dự án này được thiết kế để phục vụ hai mục đích chính trong cùng một codebase:
1.  **Web Admin Portal**: Trang quản trị dành cho người quản lý hệ thống (được xây dựng sẵn trên nền tảng MVC/Razor Pages của ABP).
2.  **Mobile App Backend**: Cung cấp hệ thống API mạnh mẽ và bảo mật để phục vụ cho ứng dụng Mobile.
    *   *Kế hoạch tương lai:* Ứng dụng Mobile sẽ được phát triển bằng **React Native** và **TypeScript**.

## Cấu hình đã được tùy chỉnh
Để thuận tiện cho quá trình phát triển (Dev), dự án đã được tích hợp sẵn các công cụ tự động:

*   **Tự động bật Database**: File `start_db.bat` sẽ tự động chạy khi bạn nhấn **F5** (Run) trong Visual Studio, giúp bật PostgreSQL Portable mà không cần thao tác thủ công.
*   **Tự động Reset Mật khẩu Admin**: Mỗi khi chạy Migration, mật khẩu của tài khoản `admin` sẽ được đặt lại về mặc định.

### Thông tin đăng nhập mặc định
*   **Username**: `admin`
*   **Password**: `Vu050739@` (Đã được cấu hình tự động reset)

## Hướng dẫn chạy dự án
1.  Mở `Knowledtree.sln` bằng Visual Studio.
2.  Đặt **`Knowledtree.Web`** làm **Startup Project**.
3.  Nhấn **F5**.
    *   *Database sẽ tự bật.*
    *   *Web App sẽ tự chạy.*
